* WireFrame
** pyenv
#+BEGIN_SRC bash 
  $ echo "install 3.9.1"
  $ pyenv install 3.9.1
  $ pyenv virtualenv 3.9.1 pyenv391
  $ cd ~/.emacs.d/source/python/django/wireframe
  $ pyenv local 3.9.1
  $ echo "set venv as 3.9.1"
  $ python3.9 -m venv env
  $ source env/bin/activate
  $ echo "django install from pip"
  $ pip install Django==3.2.6
  $ echo "django install from git"
  $ git clone git://github.com/django/django.git
  $ pip install -e django
  $ ./env/bin/python manage.py makemigrations
  $ ./env/bin/python manage.py migrate
  $ ./env/bin/python manage.py runserver
  
#+END_SRC
*** osx
	brew install homebrew/dupes/zlib
	brew install readline xz
*** amazon linux 2
   sudo yum install gcc openssl-devel bzip2-devel libffi-devel
** pip list
Package        Version
-------------- -------
asgiref        3.4.1
beautifulsoup4 4.9.3
Django         3.2.6
pip            21.2.4
pytz           2021.1
setuptools     49.2.1
soupsieve      2.2.1
sqlparse       0.4.1
** .bash_profile
*** linux
export PATH="/home/lhy/.pyenv/bin:$PATH"
eval "$(pyenv init -)"
eval "$(pyenv virtualenv-init -)"
*** osx 
export PYENV_PATH=$HOME/.pyenv
if which pyenv > /dev/null; then eval "$(pyenv init -)"; fi
if which pyenv-virtualenv-init > /dev/null; then eval "$(pyenv virtualenv-init -)"; fi

** member sqlite3
*** create member
#+header: :results silent
#+begin_src sqlite :db ./db.sqlite3
  DROP TABLE member;	  
  CREATE TABLE IF NOT EXISTS member (
	idx INTEGER PRIMARY KEY AUTOINCREMENT,
	id varchar(20) not null,
	pw varchar(20) not null,
	name varchar(20) default '', 
	email varchar(100) default '', 
	tel varchar(15) default '',
	login1st INTEGER default 0,
	role INTEGER default 0
  );
  insert into member (idx, id, pw) values(1, 'admin', '1234');
#+end_src
*** select member
#+header: :list
#+header: :separator \ 
#+begin_src sqlite :db ./db.sqlite3
select * from member;
#+end_src

#+RESULTS:
: 1 admin 1234    0 0

*** show tables
#+header: :list
#+header: :separator \ 
#+begin_src sqlite :db ./db.sqlite3
SELECT * FROM sqlite_master WHERE type='table';
#+end_src

#+RESULTS:

** schedule
*** prototype : json bind to html
DEADLINE: <2021-08-22 Sun>
 - device.json bind to html by regex
*** server configure
DEADLINE: <2021-08-29 Sun>
 - members, ip-chain, port ( ssh )
*** rendering UI 
DEADLINE: <2021-09-12 Sun>
** tree
#+BEGIN_SRC shell
  tree ./static/ -I assets
#+END_SRC

#+RESULTS:
| ./static/ |                   |                    |       |
|           | --                | 00_000.html        |       |
|           | --                | 00_001.html        |       |
|           | --                | 00_002.html        |       |
|           | --                | 01_001.html        |       |
|           | --                | 01_002_0001.html   |       |
|           | --                | 01_002_0002.html   |       |
|           | --                | 01_003.html        |       |
|           | --                | 01_004.html        |       |
|           | --                | 03_001_0001.html   |       |
|           | --                | 03_001_0002.html   |       |
|           | --                | 03_001_0003.html   |       |
|           | --                | 03_001_0004.html   |       |
|           | --                | 03_002.html        |       |
|           | --                | 03_003.html        |       |
|           | --                | 03_004.html        |       |
|           | --                | 03_005.html        |       |
|           | --                | footer.htm         |       |
|           | --                | index.html         |       |
|           | --                | layout-wrapper.htm |       |
|           | --                | notSetModal.htm    |       |
|           | --                | page-topbar.htm    |       |
|           | --                | tdd.htm            |       |
|           | --                | tdd.html           |       |
|           | --                | tdd1.htm           |       |
| `--       | vertical-menu.htm |                    |       |
|           |                   |                    |       |
| 0         | directories,      | 25                 | files |

** plantuml
*** wf page bind
#+BEGIN_SRC  plantuml :file "./schedule.png" :cmdline -charset utf-8
  @startuml
  start
  if (is login?) then (yes)
	  if (has login1st?) then (yes)
		  :wf path;
			note left 
				URL Page [ /wf/{path}.html ]
			end note
	  else (nothing)
		  :00_002;
			note right
				디폴트 패스워드 수정 Page
			end note
		endif
  else (nothing)
	:00_001;
			note right
				로그인 Page
			end note
  endif
  :Response html contents;
  stop
  @enduml
#+END_SRC

#+RESULTS:
[[file:./schedule.png]]
